{% extends 'base.html' %}
{% load static %}

{% block content %}
    <div class="row">

        <div class="col-4">
            {% if class_list %}
                <div class="list-group" id="list-tab" role="tablist">
                    {% for class in class_list %}
                        <a class="list-group-item list-group-item-action" id="list-{{ class.id }}-list"
                           data-toggle="list"
                           href="#list-{{ class.id }}" role="tab"
                           aria-controls="{{ class.id }}">
                            {{ class.name }}
                        </a>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        <div class="col-8">
            <div class="tab-content" id="nav-tabContent">
                {% for class in class_list %}
                    <div class="tab-pane fade" id="list-{{ class.id }}" role="tabpanel"
                         aria-labelledby=list-{{ class.id }}-list>
                        <div style="text-align: center">
                            <h2>{{ class.name }}</h2>
                        </div>
                        <table class="table mb-0 table-hover" cellspacing="0">
                            <thead-dark>
                                <tr>
                                    <th scope="col">student first name</th>
                                    <th scope="col">student last name</th>
                                    <th scope="col">student id</th>
                                    <th scope="col">delete</th>
                                    <th scope="col">edit</th>
                                </tr>
                                <tbody>
                                {% for student in student_class %}
                                    {% if student.classroom.id == class.id %}
                                        <tr>
                                            <td>
                                                {{ student.student.first_name }}
                                            </td>
                                            <td>
                                                {{ student.student.last_name }}
                                            </td>
                                            <td>
                                                {{ student.student.student_number }}
                                            </td>
                                            <td>
                                                <form method="post" action={% url 'delete_student' student.student.id %}>
                                                    {% csrf_token %}
                                                    <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                                                </form>

                                            </td>
                                            <td>
                                                <form>
                                                    <button type="submit" class="btn btn-secondary btn-sm">Edit</button>
                                                </form>
                                            </td>
                                        </tr>
                                    {% endif %}
                                {% endfor %}

                                </tbody>
                        </table>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}
